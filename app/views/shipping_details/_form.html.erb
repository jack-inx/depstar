<%= form_for(@shipping_detail) do |f| %>
  <% if @shipping_detail.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@shipping_detail.errors.count, "error") %> prohibited this shipping_detail from being saved:</h2>

      <ul>
      <% @shipping_detail.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <%= f.hidden_field :product_id, :value => params[:product_id] %>
  <%= f.hidden_field :question_response_id, :value => params[:question_response_id] %>

  	<% content_for :javascript do %>
  	 	<script type="text/javascript">
  	 		function selectPaymentMethod(sender)
    		{
				if(sender == "paypal")
				{
					paypal_email.style.display = "block";
				}
				else
				{
					paypal_email.style.display = "none";
				}
				
    			return;
			}
		</script>
	<% end %>
  
  <div class="field">
  	<%= label_tag nil, 'How would you like to recieve your payment?' %> <br />
	<% PaymentMethod.all.each do |payment_method| %>
	    <%= f.radio_button :payment_method_id, '0', options = {:onclick => "selectPaymentMethod('#{payment_method.short_code}');"} %>
	    <%= f.label payment_method.name %> <br />
	<% end %>
  </div>
  
  <div id="paypal_email" class="field" style='display: none;'>
    <%= f.label :paypal_email %><br />
    <%= f.text_field :paypal_email %>
  </div>

  <div class="field">
    <%= f.label :requires_box, "Would you like us to send you a prepaid box?" %><br />
    <%= f.check_box :requires_box %>
  </div>
  <div class="field">
    <%= f.label :email %><br />
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label :first_name %><br />
    <%= f.text_field :first_name %>
  </div>
  <div class="field">
    <%= f.label :last_name %><br />
    <%= f.text_field :last_name %>
  </div>
  <div class="field">
    <%= f.label :address1 %><br />
    <%= f.text_field :address1 %>
  </div>
  <div class="field">
    <%= f.label :address2 %><br />
    <%= f.text_field :address2 %>
  </div>
  <div class="field">
    <%= f.label :city %><br />
    <%= f.text_field :city %>
  </div>
  <div class="field">
    <%= f.label :state %><br />
    <%= f.select :state, [
	    ['Alabama', 'AL'], 
	    ['Alaska', 'AK'],
	    ['Arizona', 'AZ'],
	    ['Arkansas', 'AR'], 
	    ['California', 'CA'], 
	    ['Colorado', 'CO'], 
	    ['Connecticut', 'CT'], 
	    ['Delaware', 'DE'], 
	    ['District Of Columbia', 'DC'], 
	    ['Florida', 'FL'],
	    ['Georgia', 'GA'],
	    ['Hawaii', 'HI'], 
	    ['Idaho', 'ID'], 
	    ['Illinois', 'IL'], 
	    ['Indiana', 'IN'], 
	    ['Iowa', 'IA'], 
	    ['Kansas', 'KS'], 
	    ['Kentucky', 'KY'], 
	    ['Louisiana', 'LA'], 
	    ['Maine', 'ME'], 
	    ['Maryland', 'MD'], 
	    ['Massachusetts', 'MA'], 
	    ['Michigan', 'MI'], 
	    ['Minnesota', 'MN'],
	    ['Mississippi', 'MS'], 
	    ['Missouri', 'MO'], 
	    ['Montana', 'MT'], 
	    ['Nebraska', 'NE'], 
	    ['Nevada', 'NV'], 
	    ['New Hampshire', 'NH'], 
	    ['New Jersey', 'NJ'], 
	    ['New Mexico', 'NM'], 
	    ['New York', 'NY'], 
	    ['North Carolina', 'NC'], 
	    ['North Dakota', 'ND'], 
	    ['Ohio', 'OH'], 
	    ['Oklahoma', 'OK'], 
	    ['Oregon', 'OR'], 
	    ['Pennsylvania', 'PA'], 
	    ['Rhode Island', 'RI'], 
	    ['South Carolina', 'SC'], 
	    ['South Dakota', 'SD'], 
	    ['Tennessee', 'TN'], 
	    ['Texas', 'TX'], 
	    ['Utah', 'UT'], 
		['Vermont', 'VT'], 
	    ['Virginia', 'VA'], 
	    ['Washington', 'WA'], 
	    ['West Virginia', 'WV'], 
	    ['Wisconsin', 'WI'], 
	    ['Wyoming', 'WY']],
	    {:prompt => 'Select one'} %>
  </div>
  <div class="field">
    <%= f.label :zip %><br />
    <%= f.text_field :zip, :maxlength=>'5' %>
  </div>

  <div class="actions">
    <%= f.submit "Get Paid" %>
  </div>
<% end %>
